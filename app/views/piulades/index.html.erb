<section id="piulades" class="grow container min-h-screen mx-auto px-4 w-4/5 md:w-3/4 lg:w-1/2">
  <%= link_to piulades_path, class:"link text-xl tracking-tight font-black m-4" do %>
    <p class="text-lime-500 mt-4 mb-2">Piulador</p>
  <% end %>
  <!-- piulador -->
  <div id="piulador" class="mb-8">
    <%#= render "form" %>
    <%= form_with model: @piulade, data: { controller: "reset-form", action: "turbo:submit-end->reset-form#reset" } do |form|  %>
      <% if flash[:piulade_errors] %>
        <div class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3 mx-3">
          <ul>
            <% flash[:piulade_errors].each do |error| %>
              <li><%= error %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
      <%= form.text_area :body, class: "border-b border-t-0 border-x-0 mb-6 px-6 pt-6 block w-full border-gray-200 focus:shadow-none focus:outline-hidden focus:ring-transparent focus:border-gray-300 resize-none min-h-[180px] text-lg", placeholder: "En que penses?" %>
      <div class="flex justify-end px-6 -mt-20">
        <%= form.submit "Piula", class: "btn-sm"%>
      </div>
    <% end %>
  </div>
  <%= turbo_frame_tag "piulades" do %>
    <% @piulades.each do |piulade| %>
      <%= render partial: "piulades/#{piulade.piulade_type}", locals: { piulade: piulade } %>
    <% end %>
  <% end %>
  <%= turbo_frame_tag Piulade.new do %>
    <% if Piulade.all.none? %>
      <%= render "empty" %>
    <% end %>
  <% end %>
  <!-- ./piulador -->
</section>
